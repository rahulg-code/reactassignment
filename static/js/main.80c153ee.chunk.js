(this.webpackJsonpreactassignment=this.webpackJsonpreactassignment||[]).push([[0],{37:function(e,t,n){e.exports=n(65)},42:function(e,t,n){},60:function(e,t,n){},65:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(10),c=n.n(r),o=(n(42),n(36)),i=n(13),u=n(14),s=n(17),m=n(16),p=n(21),d=n.n(p),h=(n(60),n(69)),f=n(68),E=(n(61),function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={files:[]},a}return Object(u.a)(n,[{key:"handleChange",value:function(e){for(var t=this,n=e.target.files,a=[],l=function(){var e=n[r],l=new FileReader;l.readAsDataURL(e),l.onload=function(){var r={name:e.name,type:e.type,size:Math.round(e.size/1e3)+" kB",base64:l.result,file:e};a.push(r),a.length==n.length&&(t.props.multiple?t.props.onDone(a):t.props.onDone(a[0]))}},r=0;r<n.length;r++)l()}},{key:"render",value:function(){return l.a.createElement("input",{type:"file",onChange:this.handleChange.bind(this),multiple:this.props.multiple})}}]),n}(l.a.Component));E.defaultProps={multiple:!1};var g=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).togglePop=function(){a.setState({seen:!a.state.seen})},a.handleUpload=function(){var e=a.state.selectedFile;if(!e)return a.setState({handleResponse:{isSuccess:!1,message:"Please select image to upload."}}),!1;var t=new FormData;t.append("dataFile",e,e.name),d.a.post("http://localhost:4000/uploadfile",t).then((function(e){a.setState({handleResponse:{isSuccess:200===e.status,message:e.data.message},imageUrl:"http://localhost:4000/"+e.data.file.path})})).catch((function(e){alert(e.message)}))},a.state={selectedFile:null,handleResponse:null,imageUrl:null,isLoading:!0,documents:[],error:null,seen:!1,files:[]},a}return Object(u.a)(n,[{key:"fetchDocuments",value:function(){var e=this;fetch("http://52.25.96.244:7044/api/agency/Documents/GetDocumentByUserID?userId=23&key=STAFF").then((function(e){return e.json()})).then((function(t){return e.setState({documents:t.data,isLoading:!1})})).catch((function(t){return e.setState({error:t,isLoading:!1})}))}},{key:"componentDidMount",value:function(){this.fetchDocuments()}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.documents,a=e.error;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Documents List"),a?l.a.createElement("p",null,a.message):null,l.a.createElement(y,null),t?l.a.createElement("h3",null,"Loading..."):n.map((function(e){var t=e.documentTitle,n=e.documentTypeName;return l.a.createElement("tr",null,l.a.createElement("td",{width:"250"},"\xa0\xa0\xa0\xa0",t),l.a.createElement("td",{width:"250"},n),l.a.createElement("td",null,l.a.createElement(b,null)))})))}}]),n}(a.Component),y=function(e){Object(s.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tr",null,l.a.createElement("th",{width:"180"},"Document Name"),l.a.createElement("th",{width:"180"},"Document Type"),l.a.createElement("th",{width:"180"},"Upload Document"))))}}]),n}(l.a.Component);function b(){var e=this,t=Object(a.useState)(!1),n=Object(o.a)(t,2),r=n[0],c=n[1],i=function(){return c(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{variant:"primary",style:{margin:"5px"},onClick:function(){return c(!0)}},"Upload"),l.a.createElement(f.a,{show:r,onHide:i},l.a.createElement(f.a.Header,{closeButton:!0},l.a.createElement(f.a.Title,null,"Upload Documents")),l.a.createElement(f.a.Body,null,l.a.createElement("label",null,"Select Document"),"\xa0",l.a.createElement(E,{multiple:!0,onDone:function(t){e.setState({files:t})}.bind(this)}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Document Title"),"\xa0",l.a.createElement("input",{type:"text",placeholder:"Document Title"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Expiration Date"),"\xa0",l.a.createElement("input",{type:"date",placeholder:"Expiration Date"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",null,"Document Type"),"\xa0",l.a.createElement("select",null,l.a.createElement("option",{value:""},"--Select Type--"),l.a.createElement("option",{value:"Account File"},"Account File"),l.a.createElement("option",{value:"Transaction File"},"Transaction File"))),l.a.createElement(f.a.Footer,null,l.a.createElement(h.a,{variant:"secondary",onClick:i},"Close"),l.a.createElement(h.a,{variant:"primary",onClick:function(){d.a.post("http://52.25.96.244:7044/api/agency/Documents",{id:23,userId:23,base64:{additionalProp1:"string",additionalProp2:"string",additionalProp3:"string"},documentTitle:"new",url:"string",documentTypeId:0,documentTypeName:"test123",expiration:"2020-09-29T13:05:39.766Z",extenstion:"string",otherDocumentType:"testtype",createdDate:"2020-09-29T13:05:39.766Z",key:"STAFF",documentTypeIdStaff:23,fileName:"testfile"}).then((function(t){e.setState({handleResponse:{isSuccess:200===t.status,message:t.data.message}})})).catch((function(e){alert(e.message)}))}},"Upload Document"))))}var v=g;c.a.render(l.a.createElement(v,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.80c153ee.chunk.js.map